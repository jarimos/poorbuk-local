!function(s){function e(e){var r,t,a,o,i=s(e),n=i.find("input[type=password]");if(n.length)return r=n.eq(0).attr("name")||"",t=ps_observer.apply_filters("profile_field_save",n.val(),n),"pass1"===r?r="password":"pass2"===r&&(r="password2"),["password","password2"].indexOf(r)>=0&&(a=peepsodata.ajaxurl_legacy+"profilefieldsajax.validate_register",(o={}).name=r,o[r]=t,"password2"===r&&(n=n.closest("form").find("[name=pass1]"),o.password=n.val())),s.ajax({url:a,type:"post",dataType:"json",data:o}).done(function(s){var e,r=i.find(".ps-form-error");s.errors&&s.errors.length?(r.empty(),e=s.errors,_.each(e,function(s){r.append("<li>"+s+"</li>")}),r.show()):r.hide()})}s("#recoverpasswordform").on("input","input[type=password]",_.debounce(function(r){e(s(r.target).closest(".ps-form-field"))},500)).on("submit.ps-resetpassword",function(r){var t,a,o,i;return r.preventDefault(),r.stopPropagation(),t=s(this),a=t.find(".ps-form-field"),o=t.find("button[type=submit]"),i=[],errors=[],t.data("ps-submitting")||(t.data("ps-submitting",!0),a.each(function(){var s=e(this);s&&i.push(s)}),o.find("img").show(),s.when.apply(s,i).done(function(){var s;o.find("img").hide();for(s in arguments)if(arguments[s][0].errors)return void t.removeData("ps-submitting");t.off("submit.ps-resetpassword"),setTimeout(function(){o.click()},100)})),!1})}(jQuery);