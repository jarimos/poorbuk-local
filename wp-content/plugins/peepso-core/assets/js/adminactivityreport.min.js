var list={_wpnonce:null,init:function(){var e;psmessage.wrap_id="form-reporteditems",this._wpnonce=jQuery("#report-nonce").val();jQuery(".tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a").on("click",function(e){e.preventDefault();var s=this.search.substring(1),t={paged:list.__query(s,"paged")||"1",order:list.__query(s,"order")||"asc",orderby:list.__query(s,"orderby")||"rep_id"};list.update(t)}),jQuery("input[name=paged]").on("keyup",function(s){13===s.which&&s.preventDefault();var t={paged:parseInt(jQuery("input[name=paged]").val())||"1",order:jQuery("input[name=order]").val()||"asc",orderby:jQuery("input[name=orderby]").val()||"rep_id"};window.clearTimeout(e),e=window.setTimeout(function(){list.update(t)},500)})},update:function(e){$PeepSo.postJson("adminReport.sort",e,function(e){e.success&&(response=e.data,response.rows.length&&jQuery("#the-list").html(response.rows),response.column_headers.length&&jQuery("thead tr, tfoot tr").html(response.column_headers),response.pagination.bottom.length&&jQuery(".tablenav.top .tablenav-pages").html(jQuery(response.pagination.top).html()),response.pagination.top.length&&jQuery(".tablenav.bottom .tablenav-pages").html(jQuery(response.pagination.bottom).html()),list.init())})},unpublish:function(e){var s={rep_id:e,_wpnonce:this._wpnonce};$PeepSo.postJson("adminReport.unpublish",s,function(e){e.success?(e.notices&&psmessage.show("",e.notices[0]).fade_out(pswindow.fade_time),list.update({})):e.has_errors&&psmessage.show("",e.errors).fade_out(pswindow.fade_time)})},dismiss:function(e){var s={rep_id:e,_wpnonce:this._wpnonce};$PeepSo.postJson("adminReport.dismiss",s,function(e){e.success?(e.notices&&psmessage.show("",e.notices[0]).fade_out(pswindow.fade_time),list.update({})):e.has_errors&&psmessage.show("",e.errors).fade_out(pswindow.fade_time)})},ban:function(e){var s={rep_id:e,_wpnonce:this._wpnonce};$PeepSo.postJson("adminReport.ban",s,function(e){e.success?(e.notices&&psmessage.show("",e.notices[0]).fade_out(pswindow.fade_time),list.update({})):e.has_errors&&psmessage.show("",e.errors).fade_out(pswindow.fade_time)})},__query:function(e,s){for(var t=e.split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(o[0]===s)return o[1]}return!1}};list.init();