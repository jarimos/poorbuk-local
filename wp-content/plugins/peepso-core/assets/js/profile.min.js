!function r(a,n,d){function p(t,e){if(!n[t]){if(!a[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(l)return l(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var s=n[t]={exports:{}};a[t][0].call(s.exports,function(e){return p(a[t][1][e]||e)},s,s.exports,r,a,n,d)}return n[t].exports}for(var l="function"==typeof require&&require,e=0;e<d.length;e++)p(d[e]);return p}({1:[function(e,t,o){(function(e){"use strict";var t;(0,((t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t}).default)(function(e){var t=e(".ps-js-profile-list");if(t.length){var o=e(".ps-js-btn-edit-all"),i=e(".ps-js-btn-save-all").hide();o.click(function(){t.find(".ps-js-btn-edit").click(),o.hide(),i.show()}),i.click(function(){t.find(".ps-js-btn-save").click(),i.hide(),o.show()})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,o){(function(e){"use strict";var t,a=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};(0,a.default)(function(){var e=(0,a.default)("input[name=verify_password]");if(e.length){var t="ps-input-readonly",o=e.closest("form"),i=o.find("input[type=text], input[type=password]").not(e),s=o.find("[type=submit]");i.each(function(){(0,a.default)(this).data("ps-value",this.value)}),e.on("input",r),i.on("input",r),r()}function r(){e.val().trim().length<5?(i.attr("readonly","readonly").addClass(t),s.attr("disabled","disabled").addClass(t)):(i.removeAttr("readonly").removeClass(t),!function(){var e=!1;return i.each(function(){if(this.value!==(0,a.default)(this).data("ps-value"))return!(e=!0)}),e}()?s.attr("disabled","disabled").addClass(t):s.removeAttr("disabled").removeClass(t))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,o){"use strict";e("./about"),e("./account")},{"./about":1,"./account":2}],4:[function(e,t,o){"use strict";e("./profile"),e("./about"),e("./profile-extended")},{"./about":3,"./profile":6,"./profile-extended":5}],5:[function(e,t,o){"use strict";jQuery(function(o){var i=".ps-js-profile-separator",e=o(".ps-js-profile-list");e.length&&e.find(i).closest(".ps-js-profile-item").each(function(){var e=o(this),t=e.next();return t.length?t.find(i).length?(e.remove(),!0):void 0:(e.remove(),!0)})})},{}],6:[function(e,t,o){"use strict";function i(){this.cover={},this.cover.x_position_percent=0,this.cover.y_position_percent=0,this.$cover_ct=jQuery(".js-focus-cover"),this.$cover_image=jQuery("img#"+peepsodata.userid),this.initial_cover_position=this.$cover_image.attr("style"),this.avatar_use_gravatar=!1}var s=window.profile=new i;i.prototype.init=function(){var e=jQuery(".js-collapse-about-btn");0!==e.length&&e.on("click",function(e){e.preventDefault();var t=jQuery(".js-collapse-about");"none"===t.css("display")?t.show():t.hide()}),jQuery(".js-focus-cover").hover(function(){!1===pswindow.is_visible&&jQuery(".js-focus-change-cover").show()},function(){jQuery(".js-focus-change-cover").hide()}),jQuery(".ps-tab__bar").unbind("click");var t=this;this.$cover_image.one("load",function(){t.fix_horizontal_padding()}).each(function(){this.complete&&jQuery(this).load()}),jQuery(window).on("resize.focus-image",jQuery.proxy(this.fix_horizontal_padding_debounced,this));var o=jQuery(".ps-page--preferences");o.length&&(o.find("input[type=checkbox]").on("click.savepref",s.save_preference),o.find("select").on("change",s.save_preference),o.find(".ps-js-dropdown input[type=hidden]").on("change",s.save_preference),o.find(".ps-preferences__checkbox").find("input[type=checkbox]").off("click.savepref").on("click.savepref",s.save_notification));var i=jQuery(".ps-js-profile-item");i.length&&i.each(function(){var e=jQuery(this);if(e.find(".peepso-markdown").length){var t=ps_observer.apply_filters("peepso_parse_content",e.html());e.html(t)}})},i.prototype.activate_tab=function(e,t,o){return e.preventDefault(),jQuery(e.target).addClass("active").siblings("[data-toggle=tab]").removeClass("active"),jQuery(o).hide(),jQuery(t).show(),!1},i.prototype.new_like=function(){return peepso.postJson("profile.like",{user_id:peepsodata.userid},function(e){e.success?jQuery(".profile-social.profile-interactions").html(e.data.html):psmessage.show("",e.errors[0]).fade_out(psmessage.fade_time)}),!1},i.prototype.unblock_user=function(t,e){if(!this.unblocking_user){e&&(e=jQuery(e)).find("img").css("display","inline");var o={uid:peepsodata.currentuserid,user_id:t};this.unblocking_user=!0,$PeepSo.postJson("activity.unblockuser",o,jQuery.proxy(function(e){this.unblocking_user=!1,e.success&&(jQuery(".ps-js-focus--"+t).find(".ps-focus-actions, .ps-focus-actions-mobile").html(e.data.actions),psmessage.show(e.data.header,e.data.message,psmessage.fade_time))},this))}},i.prototype.report_user=function(){var e,t,o,i=jQuery("#activity-report-title").html(),s=jQuery("#activity-report-content").html();s=(s=s.replace("{post-content}","Profile")).replace("{post-id}",peepsodata.userid+""),ps_observer.add_filter("activity_report_action",e=function(e){return"profile.report"},10,1),ps_observer.add_filter("activity_report_params",t=function(e){var t=jQuery.extend({},e);return t.user_id=t.act_id,t.act_id=void 0,t.uid=void 0,t},10,1),o=jQuery("#activity-report-actions").html(),pswindow.show(i,s).set_actions(o).refresh(),jQuery("#ps-window").one("pswindow.hidden",function(){ps_observer.remove_filter("activity_report_action",e,10),ps_observer.remove_filter("activity_report_params",t,10)}),jQuery(window).one("report.submitted",function(e,t){pswindow.show("Profile Reported",t.notices[0])})},i.prototype.confirm_remove_cover_photo=function(){var e=jQuery("#delete-confirmation #delete-title").html(),t=jQuery("#delete-confirmation #delete-content").html();pswindow.show(e,t)},i.prototype.remove_cover_photo=function(e){var t={uid:peepsodata.currentuserid,user_id:e,_wpnonce:jQuery("#_covernonce").val()};$PeepSo.postJson("profile.remove_cover_photo",t,function(e){e.success&&window.location.reload()})},i.prototype.reposition_cover=function(){jQuery(".js-focus-gradient",".js-focus-cover").hide(),jQuery(".js-focus-change-cover > a",".js-focus-cover").hide(),jQuery(".reposition-cover-actions",".js-focus-cover").show(),jQuery(".js-focus-cover").addClass("ps-focus-cover-edit");var a=this,o=jQuery(".js-focus-cover").height()-jQuery("img#"+peepsodata.userid).height(),i=jQuery(".js-focus-cover").width()-jQuery("img#"+peepsodata.userid).width();jQuery("img#"+peepsodata.userid).draggable({cursor:"move",drag:function(e,t){t.position.top<o&&(t.position.top=o),0<t.position.top&&(t.position.top=0),t.position.left<i&&(t.position.left=i),0<t.position.left&&(t.position.left=0)},stop:function(e,t){var o,i=jQuery("img#"+peepsodata.userid),s=i.closest(".js-focus-cover"),r=100*t.position.top/s.height();r=Math.round(1e4*r)/1e4,o=100*t.position.left/s.width(),o=Math.round(1e4*o)/1e4,a.cover.x_position_percent=r,a.cover.y_position_percent=o,i.css("top",r+"%"),i.css("left",o+"%")}})},i.prototype.cancel_reposition_cover=function(){jQuery(".js-focus-gradient",".js-focus-cover").show(),jQuery(".js-focus-change-cover > a",".js-focus-cover").show(),jQuery(".reposition-cover-actions",".js-focus-cover").hide(),jQuery(".js-focus-cover").removeClass("ps-focus-cover-edit"),jQuery("img#"+peepsodata.userid).attr("style",this.initial_cover_position),jQuery("img#"+peepsodata.userid).draggable("destroy")},i.prototype.save_reposition_cover=function(){var e={user_id:peepsodata.userid,x:this.cover.x_position_percent,y:this.cover.y_position_percent,_wpnonce:jQuery("#_photononce").val()},t=this;jQuery(".reposition-cover-actions",".js-focus-cover").hide(),jQuery(".ps-reposition-loading",".js-focus-cover").show(),jQuery(".js-focus-cover").removeClass("ps-focus-cover-edit"),$PeepSo.postJson("profile.reposition_cover",e,function(e){jQuery(".ps-reposition-loading",".js-focus-cover").hide(),t.initial_cover_position=jQuery("img#"+peepsodata.userid).attr("style"),t.cancel_reposition_cover()})},i.prototype.confirm_remove_avatar=function(){var e=jQuery("#delete-confirmation #delete-title").html(),t=jQuery("#delete-confirmation #delete-content").html();pswindow.show(e,t)},i.prototype.remove_avatar=function(e){var t={uid:peepsodata.currentuserid,user_id:e,_wpnonce:jQuery("#_photononce").val()};$PeepSo.postJson("profile.remove_avatar",t,function(e){e.success&&window.location.reload()})},i.prototype.delete_profile=function(){var e=jQuery("#profile-delete-title").html(),t=jQuery("#profile-delete-content").html();pswindow.show(e,t)},i.prototype.delete_profile_action=function(){$req={};var e={uid:peepsodata.currentuserid};$PeepSo.postJson("profile.delete_profile",e,function(e){e.success?window.location=e.data.url:psmessage.show("",e.errors[0]).fade_out(psmessage.fade_time)})},i.prototype.show_avatar_dialog=function(){jQuery(".ps-js-error").html("");var e=jQuery("#dialog-upload-avatar"),t=e.find("#dialog-upload-avatar-title").html(),o=e.find("#dialog-upload-avatar-content").html(),i=e.find(".dialog-action").html(),s=pswindow.show(t,o).set_actions(i).$container.find(".ps-dialog");s.addClass("ps-dialog-wide"),ps_observer.add_filter("pswindow_close",function(){s.removeClass("ps-dialog-wide")},10,1),this.init_avatar_fileupload(),jQuery("#ps-window").on("pswindow.hidden",function(){jQuery(".upload-avatar .fileupload:visible").psFileupload("destroy")})},i.prototype.init_avatar_fileupload=function(){var a=this;jQuery(".upload-avatar .fileupload:visible").psFileupload({formData:{user_id:peepsodata.userid,_wpnonce:jQuery("#_photononce").val()},dataType:"json",url:peepsodata.ajaxurl_legacy+"profile.upload_avatar?avatar",add:function(e,t){if(t.files[0].type.length&&!/(\.|\/)(jpe?g|png)$/i.test(t.files[0].type)){var o=jQuery("#profile-avatar-error-filetype").text();jQuery(".ps-js-error").html(o)}else if(parseInt(t.files[0].size)>peepsodata.upload_size){var i=jQuery("#profile-avatar-error-filesize").text();jQuery(".ps-js-error").html(i)}else jQuery("#ps-window .ps-loading-image").show(),jQuery("#ps-window .show-avatar, #ps-window .show-thumbnail, #ps-window .upload-avatar").hide(),jQuery(".ps-js-error").hide(),pswindow.refresh(),t.submit()},done:function(e,t){var o=t.result;if(o.success){var i=jQuery("#dialog-upload-avatar-content",jQuery(o.data.html)),s=jQuery("#dialog-upload-avatar .dialog-action").html(),r="?"+Math.random();jQuery(".js-focus-avatar img",i).attr("src",o.data.image_url+r),jQuery(".imagePreview img",i).attr("src",o.data.orig_image_url+r),jQuery(".imagePreview",i).after('<input type="hidden" name="is_tmp" value="1"/>'),jQuery(".ps-js-has-avatar",i).show(),jQuery(".ps-js-no-avatar",i).hide(),pswindow.set_content(i),pswindow.set_actions(s),jQuery("#imagePreview img").one("load",function(){pswindow.refresh()}),a.init_avatar_fileupload(),jQuery("#ps-window button[name=rep_submit]").removeAttr("disabled").addClass("ps-btn-primary"),a.invalid_avatar_upload=!1,a.avatar_use_gravatar=!1}else jQuery("#ps-window .show-avatar, #ps-window .show-thumbnail, #ps-window .upload-avatar").show(),jQuery(".ps-js-error").html(o.errors).show(),jQuery("#ps-window .ps-loading-image").hide(),jQuery("#ps-window button[name=rep_submit]").attr("disabled","disabled").removeClass("ps-btn-primary"),a.invalid_avatar_upload=!0}})},i.prototype.confirm_avatar=function(t){var o,e;this.invalid_avatar_upload||(o=this.confirm_avatar)._loading||(o._loading=!0,t&&(t=jQuery(t)).attr("disabled","disabled"),e={user_id:peepsodata.userid,use_gravatar:this.avatar_use_gravatar?1:0,_wpnonce:jQuery("#_photononce").val()},peepso.postJson("profile.confirm_avatar",e,function(e){e&&e.success?window.location.reload():(o._loading=!1,t&&t.removeAttr("disabled"))}))},i.prototype.show_cover_dialog=function(){jQuery(".ps-js-error").html("");var e=jQuery("#dialog-upload-cover"),t=e.find("#dialog-upload-cover-title").html(),o=e.find("#dialog-upload-cover-content").html();pswindow.show(t,o),this.init_cover_fileupload(),jQuery("#ps-window").on("pswindow.hidden",function(){jQuery(".upload-cover .fileupload:visible").psFileupload("destroy")})},i.prototype.init_cover_fileupload=function(){var s=this;jQuery(".upload-cover .fileupload:visible").psFileupload({formData:{user_id:peepsodata.userid,_wpnonce:jQuery("#_photononce").val()},dataType:"json",url:peepsodata.ajaxurl_legacy+"profile.upload_cover?cover",add:function(e,t){if(t.files[0].type.length&&!/(\.|\/)(jpe?g|png)$/i.test(t.files[0].type)){var o=jQuery("#profile-cover-error-filetype").text();jQuery(".ps-js-error").html(o)}else if(parseInt(t.files[0].size)>peepsodata.upload_size){var i=jQuery("#profile-cover-error-filesize").text();jQuery(".ps-js-error").html(i)}else jQuery("#ps-window .ps-loading-image").show(),jQuery("#ps-window .upload-cover").hide(),t.submit()},done:function(e,t){var o,i=t.result;jQuery("#ps-window .ps-loading-image").hide(),jQuery("#ps-window .upload-cover").show(),i.success?(o=i.data.image_url+"?"+Math.random(),jQuery(".cover-image").attr("src",o).css("top","0").css("left","0").removeClass("default").addClass("has-cover"),jQuery(".ps-focus-image-mobile").attr("style","background:url("+o+") no-repeat center center;"),ps_observer.do_action("profile_cover_update",peepsodata.userid,o),pswindow.fade_out("slow"),jQuery("#profile-reposition-cover").show(),jQuery("#dialog-upload-cover-content").html(i.data.html),pswindow.set_content(jQuery("#dialog-upload-cover-content",i.data.html).html()),s.fix_horizontal_padding_debounced(),s.init_cover_fileupload()):jQuery(".ps-js-error").html(i.errors)}})},i.prototype.fix_horizontal_padding=function(){var e;this.$cover_image.css({height:"auto",width:"100%",minWidth:"100%",maxWidth:"100%"}),e=.375*this.$cover_ct.width(),e=Math.max(e,this.$cover_ct.height()),this.$cover_image.height()<e&&this.$cover_image.css({height:e,width:"auto",minWidth:"100%",maxWidth:"none"}),this.initial_cover_position=this.$cover_image.attr("style")},i.prototype.fix_horizontal_padding_debounced=_.debounce(function(){this.fix_horizontal_padding()},300),i.prototype.edit_field=function(e){var t,o,i=jQuery(e).closest(".ps-list-info-content"),s=i.find("input[type=text],input[type=checkbox],input[type=radio],textarea,select").eq(0),r=(s.attr("type")||"").toLowerCase();return i.find(".ps-list-info-content-text").hide(),i.find(".ps-list-info-content-form").show(),i.find(".ps-list-info-content-error").hide(),i.find(".ps-js-validation").removeClass("ps-alert-danger"),"checkbox"===r?(t=(s=i.find("input[type=checkbox]:checked")).map(function(){return this.value}),t=jQuery.makeArray(t).join(","),i.data("original-value",t)):"radio"===r?(s=i.find("input[type=radio]:checked"),i.data("original-value",s.val())):(s.hasClass("datepicker")?(i.data("original-value",s.data("value")),i.data("original-formatted",s.val())):"text"===r||"TEXTAREA"===s.prop("tagName")?(i.data("original-value",s.val()),(o=s.next(".ps-js-counter")).length&&(o.show(),s.off("input").on("input",_.throttle(function(e){o.html(e.target.value.length)},500)).triggerHandler("input"))):i.data("original-value",s.val()),s.focus()),!1},i.prototype.cancel_field=function(e){var t,o,i=jQuery(e).closest(".ps-list-info-content"),s=i.find("input[type=text],input[type=checkbox],input[type=radio],textarea,select").eq(0),r=(s.attr("type")||"").toLowerCase(),a=s.data("id");return i.find(".ps-list-info-content-form").hide(),i.find(".ps-list-info-content-text").show(),i.find(".ps-list-info-content-error").hide(),"checkbox"===r?(t=i.data("original-value").split(","),(s=i.find("input[type=checkbox]")).each(function(){this.checked=-1<t.indexOf(this.value)})):"radio"===r?(t=i.data("original-value"),(s=i.find("input[type=radio]")).each(function(){this.checked=this.value===t})):s.hasClass("datepicker")?(s.data("value",i.data("original-value")),s.val(i.data("original-formatted"))):s.val(i.data("original-value")),this.field_changed_list&&this.field_changed_list.length&&-1<(o=this.field_changed_list.indexOf(a))&&this.field_changed_list.splice(o,1),!1},i.prototype.save_field=function(e){var t,o,d,p=jQuery(e),l=p.closest(".ps-list-info-content").closest(".ps-js-profile-item"),u=l.find("input[type=text],input[type=checkbox],input[type=radio],textarea,select"),c=l.find("button"),f=l.find(".ps-list-info-content-data"),i=(u.attr("type")||"").toLowerCase(),h=u.data("id");t="checkbox"===i?(t=u.filter(":checked").map(function(){return this.value}),t=jQuery.makeArray(t),JSON.stringify(t)):"radio"===i?u.filter(":checked").val():u.hasClass("datepicker")?u.data("value"):ps_observer.apply_filters("profile_field_save",u.val(),u),o={user_id:peepsodata.currentuserid,view_user_id:peepsodata.userid,id:h,value:t},this.save_field_saving=!0,this.change_beforeunload(),u.attr("disabled","disabled"),c.attr("disabled","disabled"),p.find("img").show();var v=this;return $PeepSo.postJson("profilefieldsajax.savefield",o,function(e){var t,o=0;if(p.find("img").hide(),u.removeAttr("disabled"),c.removeAttr("disabled"),v.save_field_saving=!1,e.success){if(t=e.data||{},l.find(".ps-list-info-content-form").hide(),l.find(".ps-list-info-content-text").show(),l.find(".ps-list-info-content-error").hide(),null!=t.display_value){var i=ps_observer.apply_filters("peepso_parse_content",t.display_value);f.html(i)}else"select"===u.prop("tagName").toLowerCase()?f.html(u.find("option:selected").text()):f.html(u.val());void 0!==t.profile_completeness&&(100<=+t.profile_completeness?(o++,jQuery(".ps-completeness-status").hide(),jQuery(".ps-completeness-bar").hide()):(jQuery(".ps-completeness-status").html(t.profile_completeness_message).show(),jQuery(".ps-completeness-bar").show().children("span").css({width:+t.profile_completeness+"%"}))),void 0!==t.missing_required&&(+t.missing_required<=0?(o++,jQuery(".ps-missing-required-message").hide()):jQuery(".ps-missing-required-message").html(t.missing_required_message).show()),2<=o?jQuery(".ps-completeness-info").hide():jQuery(".ps-completeness-info").show(),v.field_changed_list&&v.field_changed_list.length&&-1<(d=v.field_changed_list.indexOf(h))&&v.field_changed_list.splice(d,1),l.addClass("ps-list-info-success"),setTimeout(function(){l.removeClass("ps-list-info-success")},1e3),ps_observer.do_action("profile_field_updated")}else{var s,r,a=l.find(".ps-list-info-content-form"),n=[];if(a.find(".ps-js-validation").removeClass("ps-alert-danger"),e.errors[0])for(s in e.errors[0])(r=a.find(".ps-js-validation-"+s)).length?r.addClass("ps-alert-danger"):n.push(e.errors[0][s]);r=a.find(".ps-list-info-content-error").hide(),n.length&&(n=n.join("<br>"),r.html(n).show()),l.addClass("ps-list-info-error"),setTimeout(function(){l.removeClass("ps-list-info-error")},1e3)}}),!1},i.prototype.field_keydown=function(e,t){return 13!==t.keyCode||(setTimeout(function(){jQuery(e).closest(".ps-list-info-content").find(".ps-js-btn-save").trigger("click")},1),!1)},i.prototype.field_changed=function(e,t){var o=jQuery(e).data("id");return this.field_changed_list||(this.field_changed_list=[]),-1===this.field_changed_list.indexOf(o)&&this.field_changed_list.push(o),this.change_beforeunload(),!0},i.prototype.change_beforeunload=function(){if(!this.onbeforeunload_changed){var e=this;this.onbeforeunload_changed=window.onbeforeunload||function(){},window.onbeforeunload=function(){return e.save_field_saving?peepsodata.profile_saving_notice||"The system is currently saving your changes.":e.field_changed_list.length?peepsodata.profile_unsaved_notice||"There are unsaved changes on this page.":void 0}}},i.prototype.change_privacy=function(e){var t=jQuery(e),o=t.closest(".ps-js-dropdown"),i=o.find(".ps-js-dropdown-toggle"),s=o.find("input[type=hidden]"),r={},a="[class*=ps-icon-]",n=".ps-privacy-title",d=s.data("id"),p=(s.val(),i.find(a).attr("class")),l=i.find(n).html(),u=t.data("optionValue"),c=t.find(a).attr("class"),f=t.find("span").html();t.parent().children("[data-option-value]").each(function(){var e=jQuery(this),t=e.data("optionValue"),o=e.find(a).attr("class");r[t]=o}),i.find(a).attr("class",c),i.find(n).html(f),peepso.postJson("profilefieldsajax.save_acc",{user_id:peepsodata.currentuserid,view_user_id:peepsodata.userid,id:d,acc:u},function(e){e.success?s.val(u):(i.find(a).attr("class",p),i.find(n).html(l))})},i.prototype.use_gravatar=function(){var s=this;$PeepSo.postJson("profile.use_gravatar",{},function(e){if(e.success){var t=jQuery("#dialog-upload-avatar-content",jQuery(e.data.html)),o=jQuery("#dialog-upload-avatar .dialog-action").html(),i=(Math.random(),e.data.image_url);i=i+(0<=i.indexOf("?")?"&rand=":"?rand=")+Math.random(),jQuery(".js-focus-avatar img",t).attr("src",i),jQuery(".imagePreview img",t).attr("src",i),jQuery(".imagePreview",t).after('<input type="hidden" name="is_tmp" value="1"/>'),jQuery(".ps-js-has-avatar",t).show(),jQuery(".ps-js-no-avatar",t).hide(),jQuery(".ps-js-crop-avatar",t).hide(),pswindow.set_content(t),pswindow.set_actions(o),jQuery("#imagePreview img").one("load",function(){pswindow.refresh()}),s.init_avatar_fileupload(),jQuery("#ps-window button[name=rep_submit]").removeAttr("disabled").addClass("ps-btn-primary"),s.invalid_avatar_upload=!1,s.avatar_use_gravatar=!0}})},i.prototype.save_preference=function(e){var t=jQuery(e&&e.target?e.target:e),o=t.closest(".ps-form-controls").find(".ps-js-loading"),i={};i.user_id=peepsodata.currentuserid,i.view_user_id=peepsodata.userid,i.meta_key=t.attr("name"),i.value=t.is(":checkbox")?t[0].checked?1:0:t.val(),o.find("i").stop().hide(),o.find("img").show(),$PeepSo.postJson("profilepreferencesajax.savepreference",i,function(e){o.find("img").hide(),o.find("i").show().delay(800).fadeOut()})},i.prototype.save_notification=function(e){var t=jQuery(e&&e.target?e.target:e),o=t.closest(".ps-form-controls").find(".ps-js-loading"),i={};i.user_id=peepsodata.currentuserid,i.view_user_id=peepsodata.userid,i.fieldname=t.attr("name"),i.value=t.is(":checkbox")?t[0].checked?1:0:t.val(),o.find("i").stop().hide(),o.find("img").show(),$PeepSo.postJson("profilepreferencesajax.save_notifications",i,function(e){o.find("img").hide(),o.find("i").show().delay(800).fadeOut(),e.success})},i.prototype.profile_deletion=function(){var e="ps-js-dialog-profile-deletion",i=jQuery("#"+e);this.deleting_profile||(i.length||((i=jQuery(peepsoprofiledata.profile_deletion_popup_content)).attr("id",e),i.appendTo(document.body),i.on("click",".ps-js-cancel",function(e){e.preventDefault(),e.stopPropagation(),i.hide()}),i.on("click",".ps-js-submit",jQuery.proxy(function(e){var t=jQuery(e.currentTarget).find("img").show(),o={password:i.find("input[type=password]").val()};this.deleting_profile=!0,peepso.postJson("profile.delete_profile",o,jQuery.proxy(function(e){this.deleting_profile=!1,t.hide(),e.success?(i.find(".ps-js-error").hide(),e.data&&(psmessage.show("",e.data.messages),setTimeout(function(){window.location=e.data.url},2e3))):e.errors&&i.find(".ps-js-error").html(e.errors[0]).show()},this))},this))),i.find("input[type=password]").val(""),i.find(".ps-js-error").hide(),i.show())},i.prototype.request_account_data=function(){console.log("this");var e="ps-js-dialog-profile-request-account-data",i=jQuery("#"+e);this.requesting_data||(i.length||((i=jQuery(peepsoprofiledata.profile_account_data_popup_content)).attr("id",e),i.appendTo(document.body),i.on("click",".ps-js-cancel",function(e){e.preventDefault(),e.stopPropagation(),i.hide()}),i.on("click",".ps-js-submit",jQuery.proxy(function(e){var t=jQuery(e.currentTarget).find("img").show(),o={password:i.find("input[type=password]").val()};this.requesting_data=!0,peepso.postJson("profile.request_account_data",o,jQuery.proxy(function(e){this.requesting_data=!1,t.hide(),e.success?(i.find(".ps-js-error").hide(),e.data&&(psmessage.show("",e.data.messages),setTimeout(function(){window.location=e.data.url},2e3))):e.errors&&i.find(".ps-js-error").html(e.errors[0]).show()},this))},this))),i.find("input[type=password]").val(""),i.find(".ps-js-error").hide(),i.show())},i.prototype.download_account_data=function(){var e="ps-js-dialog-profile-download-account-data",i=jQuery("#"+e);this.requesting_data||(i.length||((i=jQuery(peepsoprofiledata.profile_download_account_data_popup_content)).attr("id",e),i.appendTo(document.body),i.on("click",".ps-js-cancel",function(e){e.preventDefault(),e.stopPropagation(),i.hide()}),i.on("click",".ps-js-submit",jQuery.proxy(function(e){var t=jQuery(e.currentTarget).find("img").show(),o={password:i.find("input[type=password]").val()};this.requesting_data=!0,peepso.postJson("profile.download_account_data",o,jQuery.proxy(function(e){this.requesting_data=!1,t.hide(),e.success?(i.find(".ps-js-error").hide(),e.data&&(psmessage.show("",e.data.messages),setTimeout(function(){window.location=e.data.url},2e3))):e.errors&&i.find(".ps-js-error").html(e.errors[0]).show()},this))},this))),i.find("input[type=password]").val(""),i.find(".ps-js-error").hide(),i.show())},i.prototype.delete_account_data_archive=function(){var e="ps-js-dialog-profile-delete-account-data-archive",i=jQuery("#"+e);this.delete_account_data||(i.length||((i=jQuery(peepsoprofiledata.profile_delete_account_data_archive_popup_content)).attr("id",e),i.appendTo(document.body),i.on("click",".ps-js-cancel",function(e){e.preventDefault(),e.stopPropagation(),i.hide()}),i.on("click",".ps-js-submit",jQuery.proxy(function(e){var t=jQuery(e.currentTarget).find("img").show(),o={password:i.find("input[type=password]").val()};this.delete_account_data=!0,peepso.postJson("profile.delete_account_data_archive",o,jQuery.proxy(function(e){this.delete_account_data=!1,t.hide(),e.success?(i.find(".ps-js-error").hide(),e.data&&(psmessage.show("",e.data.messages),setTimeout(function(){window.location=e.data.url},2e3))):e.errors&&i.find(".ps-js-error").html(e.errors[0]).show()},this))},this))),i.find("input[type=password]").val(""),i.find(".ps-js-error").hide(),i.show())},jQuery(function(){s.init()})},{}]},{},[4]);